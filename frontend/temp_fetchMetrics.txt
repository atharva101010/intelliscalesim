  const fetchMetrics = async () => {
    try {
      const intervalParam = encodeURIComponent(selectedInterval);
      const response = await fetch(
        `http://localhost:8000/api/metrics/${selectedApp}?provider=${provider}&interval=${intervalParam}`
      );
      const data = await response.json();
      
      // Set costs directly from API response
      setCosts({
        cpu: data.cpu_cost || 0,
        memory: data.memory_cost || 0,
        storage: data.storage_cost || 0,
        total: data.total_cost || 0
      });
      
      // Transform for metrics display (if still needed)
      setMetrics([{
        cpu: data.cpu_usage || 0,
        memory: data.memory_usage || 0,
        storage: data.storage_usage || 0
      }]);
      setLoading(false);
    } catch (error) {
      console.error("Error fetching metrics:", error);
      setLoading(false);
    }
  };
